@{
    ViewData["Title"] = "Home Page";

    List<Promotion.Models.Episode> episodes = ViewData["Episodes"] as List<Promotion.Models.Episode>;
}
<div id="myCarousel" class="carousel slide" data-ride="carousel">
    @if (episodes.Any())
    {
        <ol class="carousel-indicators">
            @for (int i = 0; i < episodes.Count; i++)
            {
                <li data-target="#myCarousel" data-slide-to="@i" class="active"></li>
            }
        </ol>

        <div class="carousel-inner">
            @for (int i = 0; i < episodes.Count; i++)
            {
                @if (i == 0){
                    <div class="carousel-item active">
                        <img class="first-slide" src="~/uploads/@episodes[i].Image" alt="">
                        <div class="container">
                            <div class="carousel-caption text-left">
                                <h1>@episodes[i].Title</h1>
                                <p>@episodes[i].Description</p>
                                <p><a class="btn btn-lg btn-primary" href="@episodes[i].VidelUrl" target="_blank">Assistir</a></p>
                            </div>
                        </div>
                    </div>
                }
                else 
                {
                    <div class="carousel-item">
                        <img class="first-slide" src="~/uploads/@episodes[i].Image" alt="">
                        <div class="container">
                            <div class="carousel-caption text-left">
                                <h1>@episodes[i].Title</h1>
                                <p>@episodes[i].Description</p>
                                <p><a class="btn btn-lg btn-primary" href="@episodes[i].VidelUrl" target="_blank">Assistir</a></p>
                            </div>
                        </div>
                    </div>
                }
            }
        </div>
        <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    }
</div>


<div class="container marketing">
    <div class="row featurette" id="about">
        <div class="col-md-7 order-md-2">
            <h2 class="featurette-heading">Promoção em<br>Dot Net Core</h2>
            <p class="lead">
                Este projeto tem como finalidade aplicar os novos conhecimentos adiquiridos com a ferramenta.
            </p>
            <p class="lead">
                <button type="button" class="btn btn-light" data-toggle="modal" data-target="#messageModal">Deixe um comentário</button>
            </p>
            <div class="modal fade" id="messageModal" tabindex="-1" role="dialog" aria-labelledby="messageModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <form data-form-contact action="javascript:void(0);" method="POST" onsubmit="contact()">
                            <div class="modal-header">
                                <h5 class="modal-title" id="messageModalLabel">Enviar mensagem</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="recipient-name" class="col-form-label">Perfil do GitHub:</label>
                                    <input type="text" name="Profile" class="form-control" id="recipient-name">
                                </div>
                                <div class="form-group">
                                    <label for="message-text" class="col-form-label">Mensagem:</label>
                                    <textarea class="form-control" name="Message" id="message-text"></textarea>
                                </div>
                                <span data-contact-response class="contact-form-response none"></span>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                                <button type="submit" class="btn btn-primary">Enviar mensagem</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-5 order-md-1">
            <img class="featurette-image img-fluid mx-auto" data-src="holder.js/500x500/auto" alt="500x500" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22500%22%20height%3D%22500%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20500%20500%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_171db22ada6%20text%20%7B%20fill%3A%23AAAAAA%3Bfont-weight%3Abold%3Bfont-family%3AArial%2C%20Helvetica%2C%20Open%20Sans%2C%20sans-serif%2C%20monospace%3Bfont-size%3A25pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_171db22ada6%22%3E%3Crect%20width%3D%22500%22%20height%3D%22500%22%20fill%3D%22%23EEEEEE%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22184.890625%22%20y%3D%22261.1%22%3E500x500%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" data-holder-rendered="true" style="width: 500px; height: 500px;">
        </div>
    </div>
    
    @{
        List<Promotion.Models.Product> products = ViewData["Products"] as List<Promotion.Models.Product>;
    }
    @if (products.Any())
    {
        <hr class="featurette-divider">
        
        <h2 class="text-center mb-5" id="products">Nossos produtos</h2>
        <div class="row">
            @foreach (var product in products)
            {
                <div class="col-lg-4">
                    <img class="rounded-circle" src="~/uploads/@product.Image" alt="Generic placeholder image" width="140" height="140">
                    <h3>@product.Name</h3>
                    <p>@product.Description</p>
                </div>
            }
        </div>
    }
</div>

@if (TempData["Success"] != null)
{
    <div class="modal fade bd-example-modal-sm" id="succesModal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-success" id="exampleModalLabel">Sucesso!</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <p>Obrigado por participar! Seu voto foi registrado com sucesso!</p>
                </div>
            </div>
        </div>
    </div>
    <button id="btnSuccessModal" type="button" style="display: none;" data-toggle="modal" data-target="#succesModal"></button>
}

@section Scripts {
    @if (TempData["Success"] != null)
    {
        <script>
            btn_element = document.querySelector('#btnSuccessModal');
            btn_element.click();
        </script>
    }
}